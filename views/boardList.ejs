<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="../public/css/board/board_list.css">
    <link rel="stylesheet" href="../public/css/board/board_detail.css">
</head>
<body>
    

<div class="wrap" id="wrap"> </div>
<div class="board-detail-modal" id="boardDetailModal"></div>

<script src="../public/js/board/board_CRUD.js"></script>
<script>
    let list = [];
    ( async function(){

         boradFindAll();
            
    })()    
    
    function loadDetailModal (i) {
        console.log('list', list);
        console.log('i', i);

        const data = {
            bord_category : list[i] && list[i].bord_category ? list[i].bord_category : '',
            content: list[i] && list[i].content ? list[i].content : '',
            title :  list[i] && list[i].title ? list[i].title : '',
            views : list[i] && list[i].views ? list[i].views : 0,
            event_time : list[i] && list[i].event_time.split('T')[0]? list[i].event_time.split('T')[0] : '',
        }

        
        let modal = document.getElementById('boardDetailModal');
        modal.style.display = 'block'
        modal.innerHTML = `
            <div class="board-modal-close" onclick="modalCloase()">
                <img src= "https://kdt9-justin.s3.ap-northeast-2.amazonaws.com/close.png"
                    alt="close_img"
                />
            </div>
            <div class="bd-image"></div>
            <div class="board-detail-contents">
                <div class="bd-info">
                    <div class="bd-info_category"> ${data.bord_category}</div>
                    <h2 class="bd-info_title">${data.title}</h2>
                </div>
                <div id="eventDetailSubInfo" class="bd-sub-content">
                    <div class="txt-box">
                        <h6>내용</h6>
                        <p>${data.content}</p>
                    </div>
                    <div class="txt-box">
                        <h6>흥보 시간</h6>
                        <p>${data.event_time}</p>
                    </div>

                    <div class="txt-box">
                        <h6>채팅방</h6>
                        <p><button>입장하기</button><p>
                    </div>

                </div>
            </div>
        `
    }

    function modalCloase () {
        document.getElementById('boardDetailModal').style.display = 'none';
    }
    // const socket = io('/new');
    // // 네임 스페이스가 /new로 되어있는 소켓을 사용
    // socket.emit('userLog')
</script>
</body>
</html>